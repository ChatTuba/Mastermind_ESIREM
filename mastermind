
from random import randrange

def secret_code():
    """_summary_
    generation of sequence between colors
    """
    colors = ["R","G","B","Y"]
    lenth_colors = len(colors)

    i = 0
    n = 0
    sequence = []
    color = 0
    while i < lenth_colors:
        sequence.append(randrange(0,lenth_colors))
        i += 1

        #Association of colors meanwhile numbers
    while n < lenth_colors:
        color = sequence[n] 
        sequence[n] = colors[color]
        n += 1
    return(sequence,colors)

def input_user():
    """
    Put the input in a arry and verify if the sequence is valid
    """
    code,colors = secret_code()
    lenth =len(code)
    validation = False
    while validation == False:
        n = 0
        print("Enter a sequence of ",lenth,"colors \n")
        input_user = input()

        #Put the sequence into a array
        tab_input_user = (list(input_user.strip()))
        #check if the lenth is good
        if len(tab_input_user) != lenth:
            print("the lenth of your sequence is false, it must be,",lenth,"long\n")
            validation = False
        #Verification of the sequence entre by the user
        while n < lenth:

            if tab_input_user[n] != "B" and tab_input_user[n] != "R" and tab_input_user[n] != "G" and tab_input_user[n] != "Y":
                print(tab_input_user[n],"Is not a valid color choose between",colors,"\n")
                validation = False
                
            else :
                validation = True

            n += 1
    return(tab_input_user)
    
def game():
    """_summary_
    Fonction which allow the user to play to the mastermind
    """
    
    max_attempt = 12
    code,colors = secret_code()
    
    print("Rules: You have to find a sequence of 4 colors:",colors,".\nYou have only",max_attempt," attempts\n")
    
    play_again = False
    playing = 0

    while play_again == False:
        code,colors = secret_code()
        print(code)
        attempt = 0
        score = 0
        attempt_left = 0
        while playing == False:
            user_attempt = input_user()
            good_place = 0
            good_lettre = 0
            i = 0
            n = 0

            #compare the code and the user attempt
            for i in range(4):
                for n in range(4):
                    if user_attempt[i] == code[n]:
                        good_lettre +=1
                        #user_attempt[i] = "."
                        print(user_attempt)

                        if i == n:
                            good_place += 1
                            print(user_attempt)
                            
                    else:
                        pass
                    
                playing = False

            print("Correct:",good_place,"Partiel:",good_lettre,"\n")
            attempt += 1
            attempt_left = max_attempt - attempt
            print("You got ",attempt_left,"attempts left\n")

            if attempt == max_attempt:
                print("Out of attempt! Try again!\n")
                playing = True

            if good_place == 4:
                print("you got the right sequence",user_attempt,"in",attempt,"attempts\n")
                score = max_attempt - attempt
                print("Your score is:",score ,"\n")
                playing = True
        #option to play again 
        print("Do you want to play again?\n")
        regame = input("yes or no?")
        if regame == "yes":
            play_again = False
            playing = False
        else:
            play_again = True
    
game()