
from random import randrange

def secret_code():
    """_summary_
    generation of sequence between 4 colors : Blue(B) Red(R) Green(G) and Yellow(Y)
    """
    a = 0
    b = 0
    c = 0
    d = 0
    i = 0
    sequence = [a,b,c,d]
    while i < 4:
        sequence[i] = randrange(1,4)
        
        #Association of colors meanwhile numbers
        if sequence[i] == 0:
            sequence[i] = "R"
        if sequence[i] == 1:
            sequence[i] = "G"
        if sequence[i] == 2:
            sequence[i] = "B"
        if sequence[i] == 3:
            sequence[i] = "Y"
        
        i += 1
    return(sequence)

def input_user():
    """
    Put the input in a arry and verify if the sequence is valid
    """
    validation = False
    while validation == False:
        n = 0
        input_user = input("Enter a sequence of 4 colors like\t" "BRGY" "\n")

        #Put the sequence into a array
        tab_input_user = (list(input_user.strip()))

        #Verification of the sequence entre by the user
        while n < 4:

            if tab_input_user[n] != "B" and tab_input_user[n] != "R" and tab_input_user[n] != "G" and tab_input_user[n] != "Y":
                print(tab_input_user[n],"Is not a valid color, choose between R,G,B and Y\n")
                validation = False
                
            else :
                validation = True

            n += 1
    return(tab_input_user)
    
def game():
    """_summary_
    Fonction which allow the user to play to the mastermind
    """
    
    attempt = 0
    
    print("Rules: You have to find a sequence of 4 colors (Blue(B) Red(R) Green(G) and Yellow(Y)).\nYou have only 12 attempts\n")
    code = secret_code()
    print(code)

    score = 0
    attempt_left = 0
    playing = 0

    while playing == False:
        user_attempt = input_user()
        good_place = 0
        good_lettre = 0
        i = 0
        n = 0

        #compare the code and the user attempt
        #seen keep in memory to avoid doubles
        for i in range(4):
            for n in range(4):
                if user_attempt[i] == code[n]:
                    good_lettre +=1
                    user_attempt[i] = "Z"
                    print(user_attempt)
                    
                    if i == n:
                        good_place += 1
                        user_attempt[i] = "Z"
                        print(user_attempt)
                        
                else:
                    pass
                
            playing = False

        print("Correct:",good_place,"Partiel:",good_lettre,"\n")
        attempt += 1
        attempt_left = 12 - attempt
        print("You got ",attempt_left,"attempts left\n")

        if attempt == 12:
            print("Out of attempt! Try again!\n")
            playing = True

        if good_place == 4:
            print("you got the right sequence",user_attempt,"in",attempt,"attempts\n")
            score = 12 - attempt
            print("Your score is:",score ,"\n")
            playing = True
    
game()